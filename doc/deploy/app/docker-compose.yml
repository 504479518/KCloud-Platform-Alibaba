# /*
#  * Copyright (c) 2022 KCloud-Platform-Alibaba Author or Authors. All Rights Reserved.
#  * <p>
#  * Licensed under the Apache License, Version 2.0 (the "License");
#  * you may not use this file except in compliance with the License.
#  * You may obtain a copy of the License at
#  * <p>
#  *   http://www.apache.org/licenses/LICENSE-2.0
#  * <p>
#  * Unless required by applicable law or agreed to in writing, software
#  * distributed under the License is distributed on an "AS IS" BASIS,
#  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  * See the License for the specific language governing permissions and
#  * limitations under the License.
#  */
version: '3.3'
services:
  laokou-register:
    image: registry.cn-shenzhen.aliyuncs.com/koushenhai/laokou-register:3.1.5
    container_name: laokou-register
    # 保持容器在没有守护程序的情况下运行
    tty: true
    restart: on-failure
    privileged: true
    ports:
      - "8848:8848"
      - "9848:9848"
    volumes:
      - ./logs:/home/nacos/logs
    environment:
      - MYSQL_HOST=mysql.laokou.org
      - MYSQL_PORT=3306
      - MYSQL_DB_NACOS=kcloud_platform_alibaba_nacos
      - MYSQL_USERNAME=root
      - MYSQL_PASSWORD=laokou123
      - JASYPT_ENCRYPTOR_PASSWORD=5201314wumeihua
      - TZ=Asia/Shanghai
      - LANG=zh_CN.UTF-8
      - JAVA_OPTS="-Xmx512m -Xms512m -XX:+UseG1GC"
    network_mode: host